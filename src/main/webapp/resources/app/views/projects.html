<div class="row">
  <div class="columns">
    <alert type="info">
      <strong>Disclaimer:</strong> this is <em>beta</em> software. We store your projects on our servers. While we try our best to keep them secure and compatible with future versions, we can make no guarantees.
    </alert>
  </div>
</div>

<div class="row">
  <div class="columns large-12">
    <div class="row">
      <div class="columns large-3">
        <h3>Your projects</h3>
      </div>
      <div >
      <a id="create-project-btn" class="button" ng-click="createProjectModal.open()"><i class="fa fa-plus"></i> Create
        project</a>
      </div>
    </div>

    <div class="panel">
      <ul>
        <li ng-show="!(projects | ownProjectsFilter:user.id).length">No projects</li>
        <li ng-repeat="project in projects | ownProjectsFilter:user.id ">
          <a href="#/projects/{{project.id}}">
            <span title="project name">{{project.name}} </span> -
            <span title="project description">{{project.description}} </span>
          </a>
        </li>
      </ul>
    </div>

    <h3>Other projects</h3>

    <div class="panel">
      <ul>
        <li ng-show="!(projects | ownProjectsFilter:user.id:true).length">No other projects</li>
        <li ng-repeat="project in projects | ownProjectsFilter:user.id:true">
          <a href="#/projects/{{project.id}}">
            <span title="project name">{{project.name}}</span> -
            <span title="project description">{{project.description}}</span>
            <span title="user name">({{project.owner.firstName}} {{project.owner.lastName}})</span>
          </a>
        </li>
      </ul>
    </div>

    <modal model="createProjectModal">
      <h3>Create a new project</h3>

      <form>
        <div class="row">
          <div class="large-8 columns">
            <label>Name
              <input type="text" ng-model="model.name">
            </label>
          </div>
        </div>
        <div class="row">
          <div class="large-6 columns">
            <label>Description
              <textarea rows="4" ng-model="model.description"></textarea>
            </label>
          </div>
        </div>
        <div class="row">
          <div class="large-6 columns">
            <label>TrialVerse namespace
              <select ng-model="model.trialverse" ng-options="tv.name for tv in trialverse"></select>
            </label>
            <ul class="button-group">
              <li><a class="button small secondary" ng-click="createProjectModal.close()">Cancel</a></li>
              <li>
                <a class="button small success" ng-disabled="false" ng-click="createProject(model)">Create
                  project</a>
              </li>
            </ul>
          </div>
        </div>
      </form>
    </modal>
  </div>
</div>
